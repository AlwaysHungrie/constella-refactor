---
sidebar_position: 1
---

# Trusted Execution Environment

Constella is designed to keep your data and secrets safe by running inside a special, highly secure environment called an AWS Nitro Enclave. Let’s break down what this means and how you can be sure that the code running in Constella is exactly what you expect.

## What is an AWS Nitro Enclave?

An AWS Nitro Enclave is like a locked room inside a computer. Only specific code can run inside this room, and nothing from the outside can peek in or tamper with what’s happening inside. This makes it a perfect place to handle sensitive information, like private keys, because even the people who manage the servers can’t access what’s inside the enclave.

## Proving What’s Running Inside: Attestation

But how do you know what code is actually running inside the enclave? This is where attestation comes in. When Constella starts up inside an enclave, it creates a special certificate. This certificate is signed by Amazon, which means Amazon is vouching for it. The certificate proves two things:

1. **It was generated from inside a real AWS Nitro Enclave.**
2. **It contains something called PCR values.**

## What are PCR Values?

PCR stands for Platform Configuration Register. Think of PCR values as fingerprints of the code and system image running inside the enclave. When you build the system image for Constella using the code from GitHub, you can generate your own set of PCR values. If someone else builds the image from the same code, they’ll get the same PCR values.

## Matching PCR Values: Proving the Code is the Same

The certificate generated by the enclave includes these PCR values. Since the certificate is signed by Amazon’s root authority (which anyone can verify), you can check that the PCR values in the certificate match the ones you get from building the code yourself from GitHub. If they match, you know for sure that the code running inside the enclave is the same as the open-source code on GitHub.

## Why This Matters: Protecting Private Keys

Because of this process, you can be confident that no one—not even the people running the servers—can see or steal the private keys used by any agent inside Constella. The keys are only ever inside the secure enclave, and the code handling them is exactly what you see on GitHub. This combination of secure hardware and open verification keeps your secrets safe from prying eyes.

In summary, Constella uses AWS Nitro Enclaves and cryptographic attestation to prove that your data is handled securely and only by trusted code. You can verify this yourself, giving you peace of mind that your private keys are never exposed to any human.

